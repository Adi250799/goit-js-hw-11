{"version":3,"file":"index.js","sources":["../src/js/script.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n\nconst API_KEY = '46331793-9cec4180ce0cddf1fbb8fc669';\n\n// Elementy DOM\nconst searchForm = document.getElementById('search-form');\nconst searchInput = document.getElementById('search-input');\nconst gallery = document.getElementById('gallery');\nconst loader = document.getElementById('loader');\n\n// Inicjalizacja SimpleLightbox\nlet lightbox = new SimpleLightbox('.gallery a');\n\n// Funkcja wyszukiwania obrazów\nconst searchImages = async query => {\n  const url = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  // Funkcja pokazująca i ukrywająca loader\n  function showLoader() {\n    loader.style.display = 'block';\n  }\n\n  function hideLoader() {\n    loader.style.display = 'none';\n  }\n\n  // Pokaż loader\n  loader.hidden = true;\n\n  try {\n    showLoader();\n    const response = await fetch(url);\n    const data = await response.json();\n\n    hideLoader();\n\n    // Czyszczenie galerii przed dodaniem nowych wyników\n    clearGallery();\n\n    // Ukryj loader\n    loader.hidden = false;\n\n    if (data.hits.length === 0) {\n      // Wyświetlanie komunikatu iziToast\n      iziToast.error({\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    } else {\n      // Wyświetlanie obrazów\n      displayImages(data.hits);\n      // Odświeżenie lightboxa po dodaniu nowych elementów\n      lightbox.refresh();\n    }\n  } catch (error) {\n    // Ukryj loader w przypadku błędu\n    loader.hidden = true;\n    console.error('Error fetching images from Pixabay:', error);\n  }\n};\n\n// Funkcja do wyświetlania obrazów w galerii\nconst displayImages = images => {\n  images.forEach(image => {\n    const card = document.createElement('div');\n    card.classList.add('card');\n\n    card.innerHTML = `\n            <a href=\"${image.largeImageURL}\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n            </a>\n            <div class=\"stats\">\n                <span class=\"span\">Likes\n                ${image.likes}</span>\n                <span class=\"span\">Views \n                ${image.views}</span>\n                <span class=\"span\">Comments \n                ${image.comments}</span>\n                <span class=\"span\">Downloads \n                ${image.downloads}</span>\n            </div>\n        `;\n\n    gallery.appendChild(card);\n  });\n};\n\n// Funkcja do czyszczenia galerii\nconst clearGallery = () => {\n  gallery.innerHTML = '';\n};\n\n// Obsługa formularza wyszukiwania\nsearchForm.addEventListener('submit', e => {\n  e.preventDefault();\n  const query = searchInput.value.trim();\n  if (query !== '') {\n    searchImages(query);\n  }\n});"],"names":["API_KEY","searchForm","searchInput","gallery","loader","lightbox","SimpleLightbox","searchImages","query","url","showLoader","hideLoader","data","clearGallery","iziToast","displayImages","error","images","image","card","e"],"mappings":"6vBAOA,MAAMA,EAAU,qCAGVC,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAS,SAAS,eAAe,QAAQ,EAG/C,IAAIC,EAAW,IAAIC,EAAe,YAAY,EAG9C,MAAMC,EAAe,MAAMC,GAAS,CAClC,MAAMC,EAAM,gCAAgCT,CAAO,MAAM,mBACvDQ,CACD,CAAA,2DAGD,SAASE,GAAa,CACpBN,EAAO,MAAM,QAAU,OACxB,CAED,SAASO,GAAa,CACpBP,EAAO,MAAM,QAAU,MACxB,CAGDA,EAAO,OAAS,GAEhB,GAAI,CACFM,IAEA,MAAME,EAAO,MADI,MAAM,MAAMH,CAAG,GACJ,OAE5BE,IAGAE,IAGAT,EAAO,OAAS,GAEZQ,EAAK,KAAK,SAAW,EAEvBE,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACV,CAAO,GAGDC,EAAcH,EAAK,IAAI,EAEvBP,EAAS,QAAO,EAEnB,OAAQW,EAAO,CAEdZ,EAAO,OAAS,GAChB,QAAQ,MAAM,sCAAuCY,CAAK,CAC3D,CACH,EAGMD,EAAgBE,GAAU,CAC9BA,EAAO,QAAQC,GAAS,CACtB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,MAAM,EAEzBA,EAAK,UAAY;AAAA,uBACED,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,kBAIhDA,EAAM,KAAK;AAAA;AAAA,kBAEXA,EAAM,KAAK;AAAA;AAAA,kBAEXA,EAAM,QAAQ;AAAA;AAAA,kBAEdA,EAAM,SAAS;AAAA;AAAA,UAI7Bf,EAAQ,YAAYgB,CAAI,CAC5B,CAAG,CACH,EAGMN,EAAe,IAAM,CACzBV,EAAQ,UAAY,EACtB,EAGAF,EAAW,iBAAiB,SAAUmB,GAAK,CACzCA,EAAE,eAAc,EAChB,MAAMZ,EAAQN,EAAY,MAAM,KAAI,EAChCM,IAAU,IACZD,EAAaC,CAAK,CAEtB,CAAC"}